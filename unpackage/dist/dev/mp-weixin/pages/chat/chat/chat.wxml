<view><scroll-view class="bg-light position-fixed left-0 right-0 px-3" style="{{'bottom:105rpx;box-sizing:border-box;'+(chatBodyBottom)}}" scroll-y="{{true}}" show-scrollbar="{{false}}" scroll-into-view="{{scrollIntoView}}" scroll-with-animation="{{true}}" data-event-opts="{{[['tap',[['clickPage',['$event']]]]]}}" bindtap="__e"><block wx:for="{{list}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view id="{{'chatItem_'+index}}"><free-chat-item class="vue-ref-in-for" vue-id="{{'412038b5-1-'+index}}" item="{{item}}" index="{{index}}" pretime="{{index>0?list[index-1].create_time:0}}" data-ref="chatItem" data-event-opts="{{[['^long',[['long']]],['^preview',[['previewImage']]]]}}" bind:long="__e" bind:preview="__e" bind:__l="__l"></free-chat-item></view></block></scroll-view><view class="position-fixed left-0 right-0 border-top" style="{{('bottom:'+KeyboardHeight+'px;')}}"><view class="flex align-center justify-between" style="background-color:#F7F7F6;height:105rpx;"><textarea class="bg-white rounded p-2 font-md ml-5 flex-1" style="height:80rpx;max-width:600rpx;" fixed="{{true}}" adjust-position="{{false}}" show-confirm-bar="{{false}}" data-event-opts="{{[['focus',[['focus',['$event']]]],['blur',[['blur',['$event']]]],['input',[['__set_model',['','text','$event',[]]]]]]}}" value="{{text}}" bindfocus="__e" bindblur="__e" bindinput="__e"></textarea><block wx:if="{{text.length===0}}"><view class="flex align-center justify-center" style="height:90rpx;width:90rpx;" hover-class="bg-hover-light"><image style="width:16px;height:16px;" src="../../../static/imgs/demo/+.png" data-event-opts="{{[['tap',[['openActionOrEmoticon',['action']]]]]}}" bindtap="__e"></image></view></block><block wx:else><view class="flex-shrink"><free-main-button vue-id="412038b5-2" name="发送" data-event-opts="{{[['^click',[['send',['text']]]]]}}" bind:click="__e" bind:__l="__l"></free-main-button></view></block></view><block wx:if="{{mode==='action'}}"><view class="border-top border-light-secondary bg-light" style="height:450rpx;"><swiper style="height:450rpx;" indicator-dots="{{actionList.length>1}}"><block wx:for="{{actionList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><swiper-item class="row"><block wx:for="{{item}}" wx:for-item="item2" wx:for-index="index2" wx:key="index2"><view data-event-opts="{{[['tap',[['actionEvent',['$0'],[[['actionList','',index],['','',index2]]]]]]]}}" class="col-3 flex flex-column align-center justify-center" style="height:255rpx;" bindtap="__e"><image style="width:100rpx;height:100rpx;" src="{{item2.icon}}" mode="widthFix"></image><text class="font-sm text-muted mt-2">{{item2.name}}</text></view></block></swiper-item></block></swiper></view></block></view><free-popup class="vue-ref" vue-id="412038b5-3" bodyWidth="{{250}}" bodyHeight="{{450}}" tabbarHeight="{{105}}" data-ref="extend" bind:__l="__l" vue-slots="{{['default']}}"><view class="flex flex-column" style="{{'width:240rpx;'+(getMenusStyle)}}"><block wx:for="{{menusList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="flex-1 flex align-center  border-bottom" hover-class="bg-light" data-event-opts="{{[['tap',[['clickEvent',['$0'],[[['menusList','',index,'event']]]]]]]}}" bindtap="__e"><text class="font-md pl-3">{{item.name}}</text></view></block></view></free-popup></view>